import{d as v,r as A,o as c,c as d,a as e,b as p,F as E,e as I,w as b,f as k,t as $,p as P,g as L,u as K,h as B,i,j as g,k as x,n as F,l as C,m as W,q,v as R,S as Q,s as X,E as Z,P as Y,x as N,y as ee,z as H,A as j,B as T,C as te,D as se,G as ne,H as oe,I as M,J as O,K as ae,L as le,M as z,N as G,O as ce,Q as re,R as ue,T as ie,U as de,V as _e,W as pe,X as me,Y as ve,Z as fe,_ as he,$ as be,a0 as $e,a1 as ge,a2 as xe,a3 as ye}from"./vendor.7de1ec3f.js";const ke=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function l(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=l(t);fetch(t.href,o)}};ke();var y=(s,a)=>{const l=s.__vccOpts||s;for(const[n,t]of a)l[n]=t;return l};const J=s=>(P("data-v-7ebe2498"),s=s(),L(),s),Ce={class:"w-56 bg-primary-light"},we={class:"h-full"},Ee={class:"h-full p-10 flex flex-col items-center"},Be={class:"mb-5 logo"},Ae={class:"mt-auto"},Ie=J(()=>e("button",{class:"btn btn-primary w-40"},"\u7BA1\u7406\u8005",-1)),De=J(()=>e("li",null,[e("button",{class:"btn btn-primary w-40"},"\u5B8C\u6210")],-1)),Se=v({setup(s){const a=[{label:"\u96C6\u9EDE\u5361",to:"/points"},{label:"\u514C\u63DB",to:"/exchange"}];return(l,n)=>{const t=A("router-link");return c(),d("aside",Ce,[e("nav",we,[e("ul",Ee,[e("li",Be,[p(t,{to:"/",class:"w-full h-full block"})]),(c(),d(E,null,I(a,({label:o,to:u})=>e("li",{key:o},[p(t,{to:u},{default:b(()=>[k($(o),1)]),_:2},1032,["to"])])),64)),e("li",Ae,[p(t,{to:"/admin/login"},{default:b(()=>[Ie]),_:1})]),De])])])}}});var Pe=y(Se,[["__scopeId","data-v-7ebe2498"]]);const Le={class:"h-screen flex"},Fe=v({setup(s){const a=K(),l=B(()=>a.name==="admin-login");return(n,t)=>{const o=A("router-view");return c(),d("div",Le,[i(l)?x("",!0):(c(),g(Pe,{key:0})),e("main",{class:F(["flex-1 pt-16 px-10 overflow-x-hidden relative",{"bg-white":i(l)}])},[p(o)],2)])}}}),Ne="\u54C8\u56C9\uFF01\u9019\u662F\u500B vue \u5C08\u6848",Oe="\u7B49\u5F85\u4E2D...";var Me={hello:Ne,"My name is":"\u6211\u7684\u540D\u5B57\u662F","Ching Hui":"\u6674\u60E0","I'm a Uaena, also a frontend developer :)":"\u6211\u662FUaena\uFF0C\u4E5F\u662F\u4E00\u540D\u524D\u7AEF\u5DE5\u7A0B\u5E2B :)",loading:Oe};const Ve="Hello! It's a vue project",Ue="loading...";var qe={hello:Ve,"My name is":"My name is","Ching Hui":"Ching Hui","I'm a Uaena, also a frontend developer :)":"I'm a Uaena, also a rontend developer :)",loading:Ue};class Re{set(a,l,n=30){const t={value:l,ttl:Date.now()+n*1e4};localStorage.setItem(a,JSON.stringify(t))}get(a){const l=localStorage.getItem(a);if(!l)return null;const{ttl:n,value:t}=JSON.parse(l);return Date.now()>n?(localStorage.removeItem(a),null):t}}const He={install:s=>{const a=new Re;s.provide("storage",a)}},w=v({props:{pack:{default:"fas"},icon:{default:""}},setup(s){return(a,l)=>{const n=A("font-awesome-icon");return c(),g(n,{icon:[s.pack,s.icon]},null,8,["icon"])}}});const je=s=>(P("data-v-685e44db"),s=s(),L(),s),Te={class:"flex flex-col items-center"},ze=je(()=>e("h2",{class:"h1 text-center mb-5"},"LOGIN",-1)),Ge={class:"wrapper"},Je={class:"phone-input flex items-center"},Ke={key:0,class:"w-10 h-10 flex-center rounded-full border border-green-500 text-green-500"},We={class:"phone-pad"},Qe=["onClick"],Xe={key:0},Ze={key:2},Ye=v({setup(s){const a=10,l=11,n=12,t=10,o=C(""),u=B(()=>/((?=(09))[0-9]{10})$/g.test(o.value)),r=f=>{let m=String(f);if(f===a){o.value=o.value.slice(0,-1);return}f!==n&&(f===l&&(m="0"),!(o.value.length>=t)&&(o.value+=m))},h=8;return W(()=>{const f=[...Array(10)].map((m,_)=>`${_}`);document.addEventListener("keyup",({key:m,keyCode:_})=>{(_>=48&&_<=57||_>=96&&_<=105)&&f.includes(m)&&r(m),_===h&&r(a)})}),(f,m)=>(c(),d("div",Te,[ze,e("div",Ge,[e("div",Je,[q(e("input",{"onUpdate:modelValue":m[0]||(m[0]=_=>o.value=_),maxlength:"10",class:"flex-1 outline-none",readonly:""},null,512),[[R,o.value]]),i(u)?(c(),d("div",Ke,[i(u)?(c(),g(w,{key:0,icon:"check",class:"text-xl"})):x("",!0)])):x("",!0)]),e("div",We,[(c(),d(E,null,I(12,_=>e("button",{key:_,class:F(["phone-button",{invalid:!i(u),"login-button":_===n}]),onClick:Hs=>r(_)},[_<10?(c(),d("span",Xe,$(_),1)):_===a?(c(),g(w,{key:1,icon:"plus",class:"rotate-45"})):_===l?(c(),d("span",Ze,"0")):_===n?(c(),g(w,{key:3,icon:"check",class:"check-icon"})):x("",!0)],10,Qe)),64))])])]))}});var et=y(Ye,[["__scopeId","data-v-685e44db"]]);const tt={class:"flex-center"},st={class:"grid grid-cols-5 gap-6"},nt={class:"tag"},ot=v({props:{points:null},setup(s){const a=s,l=[Z,Y],n=10,t=Math.ceil(a.points/n),o=(r,h)=>(t-1-r)*n+h,u=(r,h)=>o(r,h)<=a.points;return(r,h)=>(c(),d("section",tt,[p(i(X),{effect:"cards",grabCursor:!0,modules:l,pagination:{clickable:!0}},{default:b(()=>[(c(!0),d(E,null,I(i(t),(f,m)=>(c(),g(i(Q),{key:`point-card-${f}`},{default:b(()=>[e("div",st,[(c(),d(E,null,I(n,_=>e("div",{key:`point-${o(m,_)}`,class:F(["point",{"have-stamp":u(m,_)}])},[e("span",nt," UBRO "+$(o(m,_)),1)],2)),64))])]),_:2},1024))),128))]),_:1})]))}});var at=y(ot,[["__scopeId","data-v-b9fba99a"]]);const lt=["onClick"],ct={class:"modal min-w-[300px] bg-white p-6 rounded-lg relative"},rt={key:0,class:"h1 text-center mb-4"},V=v({props:{title:{default:""}},emits:["close"],setup(s,{emit:a}){const l=()=>{a("close")};return(n,t)=>(c(),d("div",{class:"fixed inset-0 z-50 bg-black bg-opacity-60 flex-center",onClick:ee(l,["self"])},[e("div",ct,[p(w,{icon:"plus",class:"rotate-45 absolute right-6 top-6 cursor-pointer",onClick:l}),N(n.$slots,"title",{},()=>[s.title?(c(),d("div",rt,$(s.title),1)):x("",!0)]),N(n.$slots,"default")])],8,lt))}}),ut={class:"flex items-center space-x-4 mb-4"},it=e("label",{for:"code"},"\u5B89\u5168\u78BC",-1),dt=["disabled"],_t=v({props:{number:null},emits:["close"],setup(s,{emit:a}){const l=s,n=C(""),t=B(()=>`\u65B0\u589E ${l.number} \u9EDE`),o=()=>{};return(u,r)=>(c(),g(V,{title:i(t),onClose:r[1]||(r[1]=h=>a("close"))},{default:b(()=>[e("div",ut,[it,q(e("input",{"onUpdate:modelValue":r[0]||(r[0]=h=>n.value=h),placeholder:"\u8ACB\u8F38\u5165\u5B89\u5168\u78BC",name:"code",type:"password",class:"border px-2",maxlength:"4"},null,512),[[R,n.value]])]),e("button",{disabled:n.value==="",class:"btn btn-primary btn-block",onClick:o}," \u78BA\u8A8D\u65B0\u589E ",8,dt)]),_:1},8,["title"]))}});const pt={class:"flex flex-col flex-center"},mt={class:"wrapper"},vt={class:"bg-white rounded-2xl p-4 w-[20rem] flex justify-between space-x-4"},ft={class:"flex-1 flex items-center space-x-6"},ht={class:"flex-1 text-center font-bold text-lg"},bt=["disabled"],$t=v({setup(s){const a=22,l=C(!1),n=C(0),t=()=>{n.value++},o=()=>{n.value<=0||n.value--};return(u,r)=>(c(),d("div",pt,[e("div",mt,[p(at,{points:a,class:"mb-5"}),e("div",vt,[e("div",ft,[e("button",{onClick:o,class:"btn control-button"},[p(w,{icon:"minus"})]),e("div",ht,$(n.value),1),e("button",{onClick:t,class:"btn control-button"},[p(w,{icon:"plus"})])]),e("button",{class:"btn btn-primary stamp-button",onClick:r[0]||(r[0]=h=>l.value=!0),disabled:n.value===0},[p(w,{icon:"stamp"})],8,bt)])]),l.value?(c(),g(_t,{key:0,number:n.value,onClose:r[1]||(r[1]=h=>l.value=!1)},null,8,["number"])):x("",!0)]))}});var gt=y($t,[["__scopeId","data-v-2b7b2fef"]]);const xt=s=>(P("data-v-7043561e"),s=s(),L(),s),yt={class:"product-table py-6"},kt=xt(()=>e("li",{class:"product-row p-2 text-gray-800"},[e("div",null,[e("span",null,"\u514C\u63DB"),e("span",null,"\u54C1\u9805"),e("span",null,"\u9EDE\u6578")])],-1)),Ct=["onClick"],wt={class:"check"},Et=v({props:{products:null,active:null},emits:["change"],setup(s,{emit:a}){return(l,n)=>(c(),d("ul",yt,[kt,(c(!0),d(E,null,I(s.products,t=>(c(),d("li",{onClick:o=>a("change",t.id),key:t.id,class:F(["product-row cursor-pointer",{active:s.active===t.id}])},[e("div",null,[e("span",null,[e("div",wt,[p(w,{icon:"check"})])]),e("span",null,$(t.name),1),e("span",null,$(t.point),1)])],10,Ct))),128))]))}});var Bt=y(Et,[["__scopeId","data-v-7043561e"]]);const At={class:"flex items-center space-x-4"},It=v({emits:["close"],setup(s,{emit:a}){const l=()=>{};return(n,t)=>(c(),g(V,{title:"\u78BA\u8A8D\u514C\u63DB?",onClose:t[1]||(t[1]=o=>a("close"))},{default:b(()=>[e("div",At,[e("button",{class:"btn btn-outline-primary btn-block",onClick:t[0]||(t[0]=o=>a("close"))}," \u53D6\u6D88 "),e("button",{class:"btn btn-primary btn-block",onClick:l},"\u78BA\u8A8D")])]),_:1}))}}),Dt={class:"flex-center h-full"},St={class:"wrapper flex flex-col h-full"},Pt={class:"flex-center mb-4 space-x-5"},Lt={class:"h1 !font-normal inline-block p-2"},Ft=k(" \u76EE\u524D\u6709 "),Nt={class:"text-primary-dark font-bold mx-1"},Ot=k(" \u9EDE "),Mt={class:"flex-1 bg-white overflow-y-scroll rounded-t-2xl"},Vt={class:"sticky top-0 bg-white px-6 py-3 shadow flex items-center justify-between"},Ut={class:"flex items-center space-x-4"},qt=e("span",null,"\u514C\u63DB",-1),Rt={class:"border-b-2 border-b-primary pb-0.5 text-xl font-medium"},Ht=k(" \u4F7F\u7528 "),jt={class:"font-medium text-lg"},Tt=k(" \u9EDE "),zt=["disabled"],Gt={key:0,class:"flex-center mt-10 font-medium"},Jt=v({setup(s){const{result:a,loading:l}=H(j`
    query {
      products {
        id
        name
        point
      }
    }
  `),n=T(a,null,f=>f.products),t=C(!1),o=C(null),u=f=>{o.value=o.value===f?null:f},r=B(()=>{if(!!Array.isArray(n.value))return n.value.find(({id:f})=>f===o.value)}),h=B(()=>{var m;const f=((m=r.value)==null?void 0:m.point)||0;return 20-f});return(f,m)=>(c(),d("div",Dt,[e("div",St,[e("div",Pt,[e("div",Lt,[Ft,e("span",Nt,$(i(h))+" / 20 ",1),Ot])]),e("div",Mt,[e("div",Vt,[e("div",Ut,[qt,e("span",Rt,$(i(r)?i(r).name:"\u5C1A\u672A\u514C\u63DB\u4EFB\u4F55\u5546\u54C1"),1),e("span",null,[Ht,e("span",jt,$(i(r)?i(r).point:0),1),Tt])]),e("button",{disabled:!o.value,class:"btn btn-primary w-40",onClick:m[0]||(m[0]=_=>t.value=!0)}," \u78BA\u8A8D\u514C\u63DB ",8,zt)]),i(l)?(c(),d("div",Gt," \u6B63\u5728\u52AA\u529B\u5C0B\u627E\u6709\u4EC0\u9EBC\u53EF\u4EE5\u514C\u63DB\u7684\u597D\u6771\u897F ... ")):(c(),g(Bt,{key:1,products:i(n),onChange:u,active:o.value},null,8,["products","active"]))])]),t.value?(c(),g(It,{key:0,onClose:m[1]||(m[1]=_=>t.value=!1)})):x("",!0)]))}}),U=v({props:{rules:{default:()=>({})},action:null,initialValues:{default:()=>({})}},setup(s){const a=s,{handleSubmit:l,meta:n,values:t}=te({initialValues:a.initialValues,validationSchema:a.rules}),o=l(async()=>{try{await a.action(t)}catch(u){throw u}});return(u,r)=>(c(),d("form",{onSubmit:r[0]||(r[0]=(...h)=>i(o)&&i(o)(...h))},[N(u.$slots,"default",{invalid:!i(n).valid,values:i(t)})],32))}}),Kt={key:0,class:"font-medium block mb-1"},Wt={key:1,class:"text-red-500 mt-1"},Qt=v({props:{name:{default:""},label:{default:""}},setup(s){const a=s,{errorMessage:l,handleChange:n,value:t,meta:o}=se(a.name,void 0,{validateOnValueUpdate:!1}),u=B(()=>l.value?{blur:n,change:n,input:n}:{blur:n,change:n,input:r=>n(r,!1)});return(r,h)=>(c(),d("div",null,[s.label?(c(),d("label",Kt,[e("span",null,$(s.label),1)])):x("",!0),N(r.$slots,"default",{error:i(l),value:i(t),validationListeners:i(u)}),i(l)?(c(),d("div",Wt,$(i(l)),1)):x("",!0)]))}}),Xt=["type","placeholder","name","value"],D=v({props:{name:{default:""},label:{default:""},type:{default:"text"},placeholder:{default:""}},setup(s){const a=s,l=B(()=>a.name||a.label||"Field");return(n,t)=>(c(),g(Qt,{label:s.label,name:i(l)},{default:b(({error:o,validationListeners:u,value:r})=>[e("input",ne({class:["form-input bg-white",{"border-red-500":o}],type:s.type,placeholder:s.placeholder,name:i(l),value:r},oe(u)),null,16,Xt)]),_:1},8,["label","name"]))}});const Zt=s=>(P("data-v-5f8df122"),s=s(),L(),s),Yt={class:"container h-full flex lg:items-center"},es={class:"w-full grid lg:grid-cols-2 lg:gap-20"},ts={class:"flex space-x-4"},ss={class:"btn btn-outline-primary btn-block",type:"button"},ns=k("GoBack"),os=Zt(()=>e("button",{class:"btn btn-primary btn-block",type:"submit"},"Login",-1)),as=ae('<div class="row-start-1 flex flex-col lg:col-start-2 lg:-translate-y-1/2" data-v-5f8df122><h2 class="h1" data-v-5f8df122>\u7BA1\u7406\u54E1\u767B\u5165</h2><div class="flex-1 relative text-primary text-[5rem] sm:text-[12.5rem] flex items-center" data-v-5f8df122><span class="z-10" data-v-5f8df122>Ubro</span><div class="logo" data-v-5f8df122></div></div></div>',1),ls=v({setup(s){const a=M({account:O().required(),password:O().required().min(8)}),l=n=>{console.log("login",n)};return(n,t)=>{const o=A("router-link");return c(),d("div",Yt,[e("div",es,[p(U,{rules:i(a),action:l,class:"space-y-6"},{default:b(({values:u})=>[p(D,{name:"account",label:"Account",required:""}),p(D,{name:"password",label:"Password",type:"password"}),e("div",ts,[e("button",ss,[p(o,{class:"block",to:"/"},{default:b(()=>[ns]),_:1})]),os])]),_:1},8,["rules"]),as])])}}});var cs=y(ls,[["__scopeId","data-v-5f8df122"]]);const rs={class:"flex items-center space-x-4"},us=v({props:{deletedId:null},emits:["close"],setup(s,{emit:a}){const l=s,n=()=>{console.log("deletedId",l.deletedId)};return(t,o)=>(c(),g(V,{title:"\u78BA\u8A8D\u522A\u9664?",onClose:o[1]||(o[1]=u=>a("close"))},{default:b(()=>[e("div",rs,[e("button",{class:"btn btn-outline-primary btn-block",onClick:o[0]||(o[0]=u=>a("close"))}," \u53D6\u6D88 "),e("button",{class:"btn btn-primary btn-block",onClick:n},"\u78BA\u8A8D")])]),_:1}))}});const is=s=>(P("data-v-84d86c2e"),s=s(),L(),s),ds={class:"product-table py-6 bg-white h-full rounded-t-2xl"},_s=is(()=>e("li",{class:"product-row p-2 text-gray-800"},[e("div",null,[e("span",null,"\u54C1\u9805"),e("span",null,"\u9EDE\u6578"),e("span",null,"\u529F\u80FD")])],-1)),ps={class:"divide-x-2"},ms={class:"px-2 cursor-pointer"},vs=k(" \u4FEE\u6539 "),fs=["onClick"],hs=v({props:{products:null},setup(s){const a=C(!1),l=C(null),n=t=>{l.value=t,le(()=>a.value=!0)};return(t,o)=>{const u=A("router-link");return c(),d("ul",ds,[_s,(c(!0),d(E,null,I(s.products,r=>(c(),d("li",{key:r.id,class:"product-row"},[e("div",null,[e("span",null,$(r.name),1),e("span",null,$(r.point),1),e("div",ps,[e("span",ms,[p(u,{to:`/products/${r.id}/update`},{default:b(()=>[vs]),_:2},1032,["to"])]),e("span",{class:"text-red-700 px-2 cursor-pointer",onClick:h=>n(r.id)}," \u522A\u9664 ",8,fs)])])]))),128)),a.value?(c(),g(us,{key:0,onClose:o[0]||(o[0]=r=>a.value=!1),"deleted-id":l.value},null,8,["deleted-id"])):x("",!0)])}}});var bs=y(hs,[["__scopeId","data-v-84d86c2e"]]);const $s={class:"flex justify-end mb-5"},gs={class:"btn btn-primary w-40"},xs=k("\u65B0\u589E "),ys=v({setup(s){const{result:a,loading:l}=H(j`
    query {
      products {
        id
        name
        point
      }
    }
  `),n=T(a,null,t=>t.products);return(t,o)=>{const u=A("router-link");return c(),d(E,null,[e("div",$s,[e("button",gs,[p(u,{to:"/products/create"},{default:b(()=>[xs]),_:1})])]),p(bs,{products:i(n)},null,8,["products"])],64)}}});const ks={class:"flex justify-center mt-20"},Cs={class:"bg-white p-6 rounded-xl wrapper"},ws=["disabled"],Es=v({setup(s){const a=z(),l=M({name:O().required(),point:G().required()}),n=t=>{console.log("name",t.name,"point",t.point),a.push("/products")};return(t,o)=>(c(),d("div",ks,[e("div",Cs,[p(U,{rules:i(l),action:n,class:"space-y-6"},{default:b(({invalid:u})=>[p(D,{name:"name",label:"\u54C1\u9805"}),p(D,{name:"point",type:"number",label:"\u9EDE\u6578"}),e("button",{class:"btn btn-primary btn-block",type:"submit",disabled:u}," \u65B0\u589E ",8,ws)]),_:1},8,["rules"])])]))}});var Bs=y(Es,[["__scopeId","data-v-50d378da"]]);const As={class:"flex justify-center mt-20"},Is={class:"bg-white p-6 rounded-xl wrapper"},Ds=["disabled"],Ss=v({setup(s){const a=z(),l=M({name:O().required(),point:G().required()}),n={name:"\u62FF\u9435",point:10},t=o=>{console.log("name",o.name,"point",o.point),a.push("/products")};return(o,u)=>(c(),d("div",As,[e("div",Is,[p(U,{rules:i(l),action:t,"initial-values":n,class:"space-y-6"},{default:b(({invalid:r})=>[p(D,{name:"name",label:"\u54C1\u9805"}),p(D,{name:"point",type:"number",label:"\u9EDE\u6578"}),e("button",{class:"btn btn-primary btn-block",type:"submit",disabled:r}," \u66F4\u65B0 ",8,Ds)]),_:1},8,["rules"])])]))}});var Ps=y(Ss,[["__scopeId","data-v-7546c5da"]]);const Ls=new ce,Fs=re({uri:""}),Ns=new ue({link:Fs,cache:Ls}),S=ie({setup(){de(he,Ns)},render:()=>_e(Fe)}),Os=pe(),Ms=[ge,xe,ye];function Vs(){Ms.forEach(s=>be.add(s)),S.component("font-awesome-icon",$e)}Vs();const Us=me({locale:"en",fallbackLocale:"en",messages:{"zh-TW":Me,en:qe}}),qs=[{path:"/",component:et},{path:"/points",component:gt},{path:"/exchange",component:Jt},{path:"/admin/login",name:"admin-login",component:cs},{path:"/products",component:ys},{path:"/products/create",component:Bs},{path:"/products/:id/update",component:Ps}],Rs=ve({history:fe("ubro"),routes:qs});S.use(He);S.use(Os);S.use(Us);S.use(Rs);S.mount("#app");
