import{d as m,r as I,o as c,c as _,a as e,b as h,F as k,e as w,w as E,p as S,f as P,g as B,t as b,h as x,i as $,j as A,k as H,l as N,v as O,u as f,m as y,n as L,S as R,E as U,P as V,q as T,s as M,x as j,y as z,z as G,A as q,I as J,B as K,C as Q,D as W,G as X,H as Z,J as Y,K as ee,L as te,M as se,N as oe,O as ne,Q as le,_ as ae,R as ce,T as re}from"./vendor.c6ba0264.js";const ie=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function a(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=a(t);fetch(t.href,n)}};ie();var D=(o,l)=>{const a=o.__vccOpts||o;for(const[s,t]of l)a[s]=t;return a};const ue=o=>(S("data-v-57930d76"),o=o(),P(),o),de={class:"w-56 bg-primary-light"},_e={class:"h-full"},pe={class:"h-full p-10 flex flex-col items-center"},fe={class:"mb-5 logo"},ve=ue(()=>e("li",{class:"mt-auto"},[e("button",{class:"btn btn-primary w-40"},"\u5B8C\u6210")],-1)),me=m({setup(o){const l=[{label:"\u96C6\u9EDE\u5361",to:"/points"},{label:"\u514C\u63DB",to:"/exchange"}];return(a,s)=>{const t=I("router-link");return c(),_("aside",de,[e("nav",_e,[e("ul",pe,[e("li",fe,[h(t,{to:"/",class:"w-full h-full block"})]),(c(),_(k,null,w(l,({label:n,to:p})=>e("li",{key:n},[h(t,{to:p},{default:E(()=>[B(b(n),1)]),_:2},1032,["to"])])),64)),ve])])])}}});var he=D(me,[["__scopeId","data-v-57930d76"]]);const be={class:"h-screen flex"},xe={class:"flex-1 pt-16 px-10 overflow-x-hidden relative"},ge=m({setup(o){return(l,a)=>{const s=I("router-view");return c(),_("div",be,[h(he),e("main",xe,[h(s)])])}}}),$e="\u54C8\u56C9\uFF01\u9019\u662F\u500B vue \u5C08\u6848",ye="\u7B49\u5F85\u4E2D...";var Ce={hello:$e,"My name is":"\u6211\u7684\u540D\u5B57\u662F","Ching Hui":"\u6674\u60E0","I'm a Uaena, also a frontend developer :)":"\u6211\u662FUaena\uFF0C\u4E5F\u662F\u4E00\u540D\u524D\u7AEF\u5DE5\u7A0B\u5E2B :)",loading:ye};const ke="Hello! It's a vue project",we="loading...";var Ee={hello:ke,"My name is":"My name is","Ching Hui":"Ching Hui","I'm a Uaena, also a frontend developer :)":"I'm a Uaena, also a rontend developer :)",loading:we};class Be{set(l,a,s=30){const t={value:a,ttl:Date.now()+s*1e4};localStorage.setItem(l,JSON.stringify(t))}get(l){const a=localStorage.getItem(l);if(!a)return null;const{ttl:s,value:t}=JSON.parse(a);return Date.now()>s?(localStorage.removeItem(l),null):t}}const De={install:o=>{const l=new Be;o.provide("storage",l)}},g=m({props:{pack:{default:"fas"},icon:{default:""}},setup(o){return(l,a)=>{const s=I("font-awesome-icon");return c(),x(s,{icon:[o.pack,o.icon]},null,8,["icon"])}}});const Ae=o=>(S("data-v-685e44db"),o=o(),P(),o),Ie={class:"flex flex-col items-center"},Se=Ae(()=>e("h2",{class:"h1 text-center mb-5"},"LOGIN",-1)),Pe={class:"wrapper"},Le={class:"phone-input flex items-center"},Ne={key:0,class:"w-10 h-10 flex-center rounded-full border border-green-500 text-green-500"},Oe={class:"phone-pad"},Me=["onClick"],Fe={key:0},He={key:2},Re=m({setup(o){const l=10,a=11,s=12,t=10,n=$(""),p=A(()=>/((?=(09))[0-9]{10})$/g.test(n.value)),r=d=>{let u=String(d);if(d===l){n.value=n.value.slice(0,-1);return}d!==s&&(d===a&&(u="0"),!(n.value.length>=t)&&(n.value+=u))},v=8;return H(()=>{const d=[...Array(10)].map((u,i)=>`${i}`);document.addEventListener("keyup",({key:u,keyCode:i})=>{(i>=48&&i<=57||i>=96&&i<=105)&&d.includes(u)&&r(u),i===v&&r(l)})}),(d,u)=>(c(),_("div",Ie,[Se,e("div",Pe,[e("div",Le,[N(e("input",{"onUpdate:modelValue":u[0]||(u[0]=i=>n.value=i),maxlength:"10",class:"flex-1 outline-none",readonly:""},null,512),[[O,n.value]]),f(p)?(c(),_("div",Ne,[f(p)?(c(),x(g,{key:0,icon:"check",class:"text-xl"})):y("",!0)])):y("",!0)]),e("div",Oe,[(c(),_(k,null,w(12,i=>e("button",{key:i,class:L(["phone-button",{invalid:!f(p),"login-button":i===s}]),onClick:jt=>r(i)},[i<10?(c(),_("span",Fe,b(i),1)):i===l?(c(),x(g,{key:1,icon:"plus",class:"rotate-45"})):i===a?(c(),_("span",He,"0")):i===s?(c(),x(g,{key:3,icon:"check",class:"check-icon"})):y("",!0)],10,Me)),64))])])]))}});var Ue=D(Re,[["__scopeId","data-v-685e44db"]]);const Ve={class:"flex-center"},Te={class:"grid grid-cols-5 gap-6"},je={class:"tag"},ze=m({props:{points:null},setup(o){const l=o,a=[U,V],s=10,t=Math.ceil(l.points/s),n=(r,v)=>(t-1-r)*s+v,p=(r,v)=>n(r,v)<=l.points;return(r,v)=>(c(),_("section",Ve,[h(f(R),{effect:"cards",grabCursor:!0,modules:a,pagination:{clickable:!0}},{default:E(()=>[(c(!0),_(k,null,w(f(t),(d,u)=>(c(),x(f(T),{key:`point-card-${d}`},{default:E(()=>[e("div",Te,[(c(),_(k,null,w(s,i=>e("div",{key:`point-${n(u,i)}`,class:L(["point",{"have-stamp":p(u,i)}])},[e("span",je," UBRO "+b(n(u,i)),1)],2)),64))])]),_:2},1024))),128))]),_:1})]))}});var Ge=D(ze,[["__scopeId","data-v-b9fba99a"]]);const qe=["onClick"],Je={class:"modal min-w-[300px] bg-white p-6 rounded-lg relative"},Ke={key:0,class:"h1 text-center mb-4"},F=m({props:{title:{default:""}},emits:["close"],setup(o,{emit:l}){const a=()=>{l("close")};return(s,t)=>(c(),_("div",{class:"fixed inset-0 z-50 bg-black bg-opacity-60 flex-center",onClick:j(a,["self"])},[e("div",Je,[h(g,{icon:"plus",class:"rotate-45 absolute right-6 top-6 cursor-pointer",onClick:a}),M(s.$slots,"title",{},()=>[o.title?(c(),_("div",Ke,b(o.title),1)):y("",!0)]),M(s.$slots,"default")])],8,qe))}}),Qe={class:"flex items-center space-x-4 mb-4"},We=e("label",{for:"code"},"\u5B89\u5168\u78BC",-1),Xe=["disabled"],Ze=m({props:{number:null},emits:["close"],setup(o,{emit:l}){const a=o,s=$(""),t=A(()=>`\u65B0\u589E ${a.number} \u9EDE`),n=()=>{};return(p,r)=>(c(),x(F,{title:f(t),onClose:r[1]||(r[1]=v=>l("close"))},{default:E(()=>[e("div",Qe,[We,N(e("input",{"onUpdate:modelValue":r[0]||(r[0]=v=>s.value=v),placeholder:"\u8ACB\u8F38\u5165\u5B89\u5168\u78BC",name:"code",type:"password",class:"border px-2",maxlength:"4"},null,512),[[O,s.value]])]),e("button",{disabled:s.value==="",class:"btn btn-primary btn-block",onClick:n}," \u78BA\u8A8D\u65B0\u589E ",8,Xe)]),_:1},8,["title"]))}});const Ye={class:"flex flex-col flex-center"},et={class:"wrapper"},tt={class:"bg-white rounded-2xl p-4 w-[20rem] flex justify-between space-x-4"},st={class:"flex-1 flex items-center space-x-6"},ot={class:"flex-1 text-center font-bold text-lg"},nt=["disabled"],lt=m({setup(o){const l=22,a=$(!1),s=$(0),t=()=>{s.value++},n=()=>{s.value<=0||s.value--};return(p,r)=>(c(),_("div",Ye,[e("div",et,[h(Ge,{points:l,class:"mb-5"}),e("div",tt,[e("div",st,[e("button",{onClick:n,class:"btn control-button"},[h(g,{icon:"minus"})]),e("div",ot,b(s.value),1),e("button",{onClick:t,class:"btn control-button"},[h(g,{icon:"plus"})])]),e("button",{class:"btn btn-primary stamp-button",onClick:r[0]||(r[0]=v=>a.value=!0),disabled:s.value===0},[h(g,{icon:"stamp"})],8,nt)])]),a.value?(c(),x(Ze,{key:0,number:s.value,onClose:r[1]||(r[1]=v=>a.value=!1)},null,8,["number"])):y("",!0)]))}});var at=D(lt,[["__scopeId","data-v-2b7b2fef"]]);const ct=o=>(S("data-v-7043561e"),o=o(),P(),o),rt={class:"product-table py-6"},it=ct(()=>e("li",{class:"product-row p-2 text-gray-800"},[e("div",null,[e("span",null,"\u514C\u63DB"),e("span",null,"\u54C1\u9805"),e("span",null,"\u9EDE\u6578")])],-1)),ut=["onClick"],dt={class:"check"},_t=m({props:{products:null,active:null},emits:["change"],setup(o,{emit:l}){return(a,s)=>(c(),_("ul",rt,[it,(c(!0),_(k,null,w(o.products,t=>(c(),_("li",{onClick:n=>l("change",t.id),key:t.id,class:L(["product-row cursor-pointer",{active:o.active===t.id}])},[e("div",null,[e("span",null,[e("div",dt,[h(g,{icon:"check"})])]),e("span",null,b(t.name),1),e("span",null,b(t.point),1)])],10,ut))),128))]))}});var pt=D(_t,[["__scopeId","data-v-7043561e"]]);const ft={class:"flex items-center space-x-4"},vt=m({emits:["close"],setup(o,{emit:l}){const a=()=>{};return(s,t)=>(c(),x(F,{title:"\u78BA\u8A8D\u514C\u63DB?",onClose:t[1]||(t[1]=n=>l("close"))},{default:E(()=>[e("div",ft,[e("button",{class:"btn btn-outline-primary btn-block",onClick:t[0]||(t[0]=n=>l("close"))}," \u53D6\u6D88 "),e("button",{class:"btn btn-primary btn-block",onClick:a},"\u78BA\u8A8D")])]),_:1}))}}),mt={class:"flex-center h-full"},ht={class:"wrapper flex flex-col h-full"},bt={class:"flex-center mb-4 space-x-5"},xt={class:"h1 !font-normal inline-block p-2"},gt=B(" \u76EE\u524D\u6709 "),$t={class:"text-primary-dark font-bold mx-1"},yt=B(" \u9EDE "),Ct={class:"flex-1 bg-white overflow-y-scroll rounded-t-2xl"},kt={class:"sticky top-0 bg-white px-6 py-3 shadow flex items-center justify-between"},wt={class:"flex items-center space-x-4"},Et=e("span",null,"\u514C\u63DB",-1),Bt={class:"border-b-2 border-b-primary pb-0.5 text-xl font-medium"},Dt=B(" \u4F7F\u7528 "),At={class:"font-medium text-lg"},It=B(" \u9EDE "),St=["disabled"],Pt={key:0,class:"flex-center mt-10 font-medium"},Lt=m({setup(o){const{result:l,loading:a}=z(G`
    query {
      products {
        id
        name
        point
      }
    }
  `),s=q(l,null,d=>d.products),t=$(!1),n=$(null),p=d=>{n.value=n.value===d?null:d},r=A(()=>{if(!!Array.isArray(s))return s.find(({id:d})=>d===n.value)}),v=A(()=>{var u;const d=((u=r.value)==null?void 0:u.point)||0;return 20-d});return(d,u)=>(c(),_("div",mt,[e("div",ht,[e("div",bt,[e("div",xt,[gt,e("span",$t,b(f(v))+" / 20 ",1),yt])]),e("div",Ct,[e("div",kt,[e("div",wt,[Et,e("span",Bt,b(f(r)?f(r).name:"\u5C1A\u672A\u514C\u63DB\u4EFB\u4F55\u5546\u54C1"),1),e("span",null,[Dt,e("span",At,b(f(r)?f(r).point:0),1),It])]),e("button",{disabled:!n.value,class:"btn btn-primary w-40",onClick:u[0]||(u[0]=i=>t.value=!0)}," \u78BA\u8A8D\u514C\u63DB ",8,St)]),f(a)?(c(),_("div",Pt," \u6B63\u5728\u52AA\u529B\u5C0B\u627E\u6709\u4EC0\u9EBC\u53EF\u4EE5\u514C\u63DB\u7684\u597D\u6771\u897F ... ")):(c(),x(pt,{key:1,products:f(s),onChange:p,active:n.value},null,8,["products","active"]))])]),t.value?(c(),x(vt,{key:0,onClose:u[1]||(u[1]=i=>t.value=!1)})):y("",!0)]))}});const Nt=new J,Ot=K({uri:""}),Mt=new Q({link:Ot,cache:Nt}),C=W({setup(){X(oe,Mt)},render:()=>Z(ge)}),Ft=Y(),Ht=[ae,ce,re];function Rt(){Ht.forEach(o=>ne.add(o)),C.component("font-awesome-icon",le)}Rt();const Ut=ee({locale:"en",fallbackLocale:"en",messages:{"zh-TW":Ce,en:Ee}}),Vt=[{path:"/",component:Ue},{path:"/points",component:at},{path:"/exchange",component:Lt}],Tt=te({history:se("ubro"),routes:Vt});C.use(De);C.use(Ft);C.use(Ut);C.use(Tt);C.mount("#app");
